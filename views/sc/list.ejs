<h1><i class="fas fa-list-ul"></i> Semua Source Code</h1>
<hr>
<% if (sourceCodes && sourceCodes.length > 0) { %>
<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <% sourceCodes.forEach(sc => { %>
    <div class="col">
        <div class="card h-100">
            <!-- <img src="placeholder-image.jpg" class="card-img-top" alt="<%= sc.title %>"> -->
            <div class="card-body d-flex flex-column">
                <h5 class="card-title"><%= sc.title %></h5>
                <p class="card-text text-muted small">Kategori: <%= sc.category %></p>
                <p class="card-text flex-grow-1"><%= sc.description.substring(0, 120) %>...</p>
                
                <% if (!sc.is_for_rent_only && sc.price_buy) { %>
                    <p class="fw-bold mb-1">Harga Beli: Rp <%= sc.price_buy.toLocaleString('id-ID') %></p>
                <% } %>
                <% if (sc.rental_options && sc.rental_options.length > 0) { %>
                     <p class="fw-bold mb-1">Mulai Sewa: Rp <%= sc.rental_options[0].price.toLocaleString('id-ID') %> / <%= sc.rental_options[0].duration %></p>
                <% } %>
                <p class="card-text"><small class="text-muted">Dijual oleh: <%= sc.seller ? sc.seller.name : 'N/A' %></small></p>
            </div>
             <div class="card-footer bg-transparent border-top-0">
                <a href="/sc/<%= sc._id %>" class="btn btn-primary btn-sm w-100"><i class="fas fa-eye"></i> Lihat Detail</a>
            </div>
        </div>
    </div>
    <% }) %>
</div>
<% } else { %>
<div class="alert alert-info" role="alert">
    <i class="fas fa-info-circle"></i> Belum ada source code yang tersedia saat ini.
</div>
<% } %>